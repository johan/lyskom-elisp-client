-*- Mode: outline; -*-

Att göra i elisp-klienten
=========================

* SAKER ATT KOLLA

    XEmacs 20.3 kanske har init-filer i .xemacs/init.el. Kolla att vi
    fortfarande kan spara variabelinställningar där. Om inte där så
    kommer den kanske att spara saker i custom-file eller nåt sånt. 
    .xemacs-options är det väl. Hur ser man till att inte XEmacs
    zappar sånt som LysKOM sätter dit?


* BUGGAR

** VIKTIGA BUGGAR

    Ingen av initiate-funktionerna fungerar i något annat än LysKOMs
    huvudbuffert. De borde alla undersöka om det finns några köer i
    den aktuella bufferten, och om det inte gör det, försöka hitta en
    LysKOM-buffert att göra anropet i.


** OMBRYTNING

    Vi klarar inte emailheaders som är brutna över flera rader.


** DEFERRED INSERT

    lyskom-replace-deferred verkar inte använda lyskom-last-viewed i
    alla fall. Och den beter sig fel när man står vid prompten och
    vill bläddra bakåt.

    Om ett namn som fylls i i efterhand gör att sista raden blir för
    lång, så scrollar klienten trots att den inte borde. Jag trodde
    jag hade fixat det.


** PREFETCH 

    Dubbla prefetcher kan vara väldigt förvirrande. Om man t.ex. gör
    endast i ett möte (säg IÅM) innan det prefetchas får man två
    parallella prefetcher på samma möte.

    Gå ur mötet man prefetchar genererar en bug.

    Om man går till ett möte som inte prefetchats och inte har några
    inlägg blir promten fel, och man får ett felmeddelande.

    Lista nyheter visar fel innan prefetchen har hämtat alla mappar.


** COMPLETING READ

    lyskom-read-session-no hanterar inte att man anger specifikt
    sessionsnummer om samma person har flera sessioner, tror jag.
    Problemet är att s xxxx hanteras i lyskom-read-conf-internal som
    bara kan returnera conf-z-info. Man borde låta den returnera info
    om specifikt sessionsnummer också.

    Fixa så LysKOM och complete.el fungerar ihop genom att sätta om
    samma mappar som complete.el gör, till wrappers runt complete.el
    som kollar om completion är LysKOM-completion eller något annat.


** HANTERING AV FOTNOTER

    Den försöker fortfarande följa hemliga kommentarer om
    kom-show-footnotes-immediately är satt.

    Om man läser ett inlägg som har en fotnot (t ex 1449843) och vill
    spara det på fil, så blir det bara fotnoten som sparas.  Man vill
    nog spara minst själva huvudinlägget, och nog också fotnoterna
    samtidigt. [Pja, det är faktist meningen att det skall funka så
    här. Spara text sparar sisa inlägget man tittade på.
    Prefixargument ger fler. Frågan om det är *bra* eller inte är en
    helt annan...]

    Fotnoter som visas på en gång filtreras inte. [verkar fixat]

    kom-review-tree på en text med fotnoter visar fotnoterna på en
    gång. Är det en bug?


** PROMPTEN

    När jag ska läsa en kommentar till ett brev i min brevlåda så blir
    prompten "Läsa nästa brev" i stället för "Läsa nästa
    kommentar". Kommentaren ligger inte i brevlådan. (LÅG PRIORITET)


** HEISENBUGS

    Sentinelmeddelanden i ikoniferade frames buggar. Prova att kasta
    ut en session i ett ikonifierat fönster. Eller kanske till och med
    bara i en gömd buffert.

    Tommy Persson får LysKOM protocol error. Det kan bero på strulande
    modem.



* FöRBäTTRINGAR

** EDIT-BUFFERTEN

    Defaultplaceringen av nya mottagare i editbufferten är fånig.


** FILTER

    Ny filter-edit-mode

    Använd den nya filterkompilatorn.

    Gör inte nästa kommando efter en filtrering. Kontrollera med
    variabel.


** ASYNKRONA MEDDELANDEN

    Färgläggning av meddelanden baserat på varifrån de kommer, och
    vart det går. John Olsson efterfrågar.

    Filtrera asynkrona meddelanden (Pontus Lidman)


** MEDLEMSSKAPSINFORMATION

    Lista medlemsskap borde hållas uppdaterad. Vi behöver hookar för
    - Gå in i möte (uppdatera datum)
    - Ändra prioritet (det har vi)
    - Ändra olästa
    - Invalidera conf-stat (kanske)
    Plus att vi måste fixa en datastruktur till bufferten. Vilket slit.
    Kanske kan man mergea prioritera och lista medlemsskap? Det skulle
    ju förenkla...


** ÅTERSE

    Återse senaste borde vara superinkrementell. Man kunde hämta så
    mycket man hinner under säg tre sekunder och stoppa någonting på
    read-listan som hämtar nästa tre sekunder eller så.

    "Återse n inlägg av person x till möte y från datum z framåt"

    "Återse n inlägg av person x till möte y under de senaste k dagarna"

    Strunta i hemliga texter vid åar.

    Återse alla markerade borde gå att avbryta med nästa möte.


** INTERNA SAKER

    Inför en membership-cache.

    Har detta att göra med lite för optimistisk cache att göra? Kanske
    bör man läsa om person-staten innan man varnar för lapp på dörren?

    Reentrant blocking-do [FINNS, MEN ANVÄNDS INTE]


** FOTNOTER

    Skriv inte ut stora fonoter på en gång.

    Visa fotnoter på ett bättre sätt.

    Kommandot kom-review-comments visar fotnoter sist, inte först.

    Det skulle vara bra om skönsvärde för att skriva fotnot vore den
    senaste text man själv skrev, inte den senaste man läste. Eller
    kanske den senaste man läste om det var man själv som skrev den?
    Snarare den sista man läste av sig själv alt. den sista man skrev
    om man inte har läst något av sig själv sedan dess.


** ANVäNDARVäNLIGHET

    Klickbara kommandon, vad nu det är.

    Det behövs dokumentation: fråmst användarhandledning, men det
    skulle inte skada med en kortfattad beskrivning av stabila delar
    av systemet för presumtiva kommandoskribenter.

    Språkgranskning av den engelska versionen.


** DIVERSE OSORTERAT

    Radera inlägg borde gnälla lite om det finns markeringar.

    Presentationer ska ha samma mottagare som tidigare
    presentationer.

    Sortera vilkaslistan efter t.ex. idletid.



Local variables:
mode: outline
paragraph-separate: "[ \t]*$"
outline-regexp: "[*]+"
end:
