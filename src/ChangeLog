1999-07-02  David Byers  <davby@ida.liu.se>

	* english-strings.el (lyskom-en-filter-edit-map): Use kbd. Added
	C-c C-c as command to quit.

	* swedish-strings.el (lyskom-sv-filter-edit-map): Same here.

1999-06-30  Per Cederqvist  <ceder@signum.se>

	* swedish-strings.el, english-strings.el (lyskom-message): Added
	missing %-signs in review-many-comments and view-many-comments.

1999-06-29  David Byers  <davby@ida.liu.se>

	* vars.el.in (lyskom-face-schemes): Added kom-warning-face.
	(lyskom-faces): Ditto.

	* view-text.el (lyskom-format-text-footer): Add the ability to
	have properties on the format flags.

	* async.el (lyskom-parse-async): Update the uconf-stat cache when
	a name changes.

	* komtypes.el (uconf-stat): Use def-komtype.
	(uconf-stat): 

	* messages.el (lyskom-filter-message-handler): New message handler
 	used to filter ignored messages.

	* vars.el.in (kom-ignore-message-senders): New variable.
	(kom-ignore-message-recipients): New variable.

1999-06-29  David Byers  <davby@ida.liu.se>

	* edit-text.el (lyskom-edit-send-check-recipients): Passive
	members should be added as direct recipients.
	(lyskom-edit-send-check-recipients): Add each author only once.
	Don't barf if the comment has been deleted.

1999-06-28  David Byers  <davby@ida.liu.se>

	Get rid of compiler warnings
	* lyskom-rest.el (w3-finish-drawing): Get rid of warning.
	
	* compatibility.el (lyskom-xemacs-or-gnu): Evaluate the test at
	compile time. The byte code is not compatible anyway.

	* macros.el (define-widget): Autoload widget functions if
	undefined.

	* utilities.el (lyskom-ignore): New function.

	* review.el (kom-review-noconversion): Use lyskom-ignore instead
 	of ignore to get rid of warnings.

	* option-edit.el (lyskom-create-widget): Use lyskom-ignore instead 
	of ignore to get rid of warnings.

	* menus.el (lyskom-define-menu-xemacs): Use lyskom-ignore instead
	of ignore to get rid of warnings.

	* edit-text.el (kom-ispell-message): Use lyskom-ignore to get rid
	of bound but not referenced error.
	(lyskom-edit-send-check-recipients): Use lyskom-ignore instead of
	ignore. 
	(kom-edit-add-comment): Use lyskom-ignore to get rid of bound but
	not referenced error.

	* commands2.el (kom-set-unread): Use lyskom-ignore to get rid of
	bound but not referenced warning.

	* edit-text.el (kom-edit-add-comment): Got rid of compiler
	warning.

	* commands2.el (resize-minibuffer-mode): Got rid of compiler
	warning.

	* startup.el (lyskom-accept-async): Got rid of compiler warning.

	* prefetch.el (lyskom-prefetch-membership-handler): Got rid of
	compiler warning.

	* aux-items.el (lyskom-maybe-add-face-to-string): Got rid of
	compiler warning.

	Treat reviewing as a conference in the read list
	* lyskom-rest.el (kom-view-next-text): Delete reviewed texts from
	lyskom-to-do-list.
	(lyskom-go-to-next-conf): Update read lists when resuming review.
	(lyskom-update-prompt): Update prompt for resuming review.

	* review.el (lyskom-review-get-priority): New function.
	(kom-review-tree): Use review priority if available.
	(lyskom-review-tree): Ditto.
	(kom-review-more): Enter review into lyskom-to-do-list.
	(lyskom-review-by-to): Ditto.
	(kom-find-root): Ditto.
	(lyskom-review-comments): Ditto.
	(kom-review-last-normally-read): Ditto.

	* vars.el.in (kom-review-priority): New variable.

1999-06-28  David Byers  <davby@ida.liu.se>

	* vars.el.in (kom-silent-ansaphone): New variable.

	* lyskom-rest.el (lyskom-beep): Allow alist argument. 

Mon Jun 28 17:15:28 1999  David Byers  <davby@sen2.ida.liu.se>

	* Release 0.46-BETA-5

1999-06-28  David Byers  <davby@ida.liu.se>

	* lyskom-rest.el (lyskom-set-mode-line): Don't show session
	priority in mode line if it is the same as the default session
	priority.

	* commands2.el (kom-set-session-priority): Default priority is
	kom-default-session-priority, not 100.

	* startup.el (kom-start-anew): Set the session priority from
	kom-default-session-priority.

	* vars.el.in (kom-default-session-priority): New variable.

	* commands2.el (lyskom-send-message-trim-newlines): Don't trim
	newlines if the message is not a string.

1999-06-27  David Byers  <davby@ida.liu.se>

	* services.el (initiate-set-membership-type): Don't delete the
	conference and person from the cache.

	* startup.el (lyskom-refetch): Stop the prefetch while loading it
	with stuff to do. Otherwise we'll get things in the wrong order.

	* commands1.el (lyskom-try-add-member): Ask for priority when
	adding new members.

1999-06-26  David Byers  <davby@ida.liu.se>

	*  Release 0.46-EBTA-4

	* prefetch.el, startup.el, async.el: Use get-unread-confs to get
	memberships in confs with unreads before 

	* view-text.el (lyskom-print-text): Moved printing of the newline
	after a text to the text body (that way smileys at the end of a
	text are done correctly.)

	* prioritize.el (lyskom-prioritize-tell-server): Ignore new
	membership asyncs.

1999-06-25  David Byers  <davby@ida.liu.se>

	* lyskom-rest.el (lyskom-visible-membership): Deal with passive
	memberships the way they're supposed to be dealt with.

	* reading.el (lyskom-add-memberships-to-membership): Don't add
	passive memberships.

	* review.el (kom-review-stack): Print information about all kinds
	of things on the stack, not just review commands.

	* completing-read.el (lyskom-completing-strip-name): New function.
	(lyskom-completing-member): Ignore parens.

	* lyskom-rest.el: lyskom-format has capability to use embedded
	predicates. Wohoo!

	* utilities.el (lyskom-client-date-string): New function.

	* lyskom-rest.el (lyskom-current-text): New function.

1999-06-24  David Byers  <davby@ida.liu.se>

	* lyskom-rest.el (lyskom-insert-string): Allow literal strings in
	calls to lyskom-insert-string.

1999-06-23  David Byers  <davby@ida.liu.se>

	* english-strings.el: Synched up with Swedish.

	* vars.el.in (lyskom-language): Set default valie from
	kom-default-language. 

1999-06-22  David Byers  <davby@ida.liu.se>

	* view-text.el (lyskom-print-text): Print correct header for texts 
	without subjects too.

	Support long dashed lines in a variety of places.
	* language.el (lyskom-get-string-sol): New function.

	* vars.el.in (kom-text-header-dash-length): New variable.
	(kom-text-footer-dash-length): New variable.
	(kom-long-lines): New variable.

	* view-text.el (lyskom-format-text-footer): Use
 	kom-text-footer-dash-length to specify total footer size.
	(lyskom-print-text): Use kom-text-header-dash-length to specify
 	total length of dashed line before text.
	(lyskom-format-text-footer): Print the format-flags string as part
 	of the dashed lines, not after the dashed line.


Tue Jun 22 15:59:15 1999  David Byers  <davby@sen2.ida.liu.se>

	* Release av 0.46-BETA-3

1999-06-22  David Byers  <davby@ida.liu.se>
	
	Add/remove footnotes
	* commands1.el (kom-sub-footnote): New function.
	(lyskom-add-sub-footnote): New function.
	(kom-add-footnote): New function.

1999-06-21  David Byers  <davby@ida.liu.se>

	* commands1.el (lyskom-sub-member): Become passive member the
	first unsubscribe and really unsubscribe on the second try.

	Better handling of membership types.
	* lyskom-rest.el (lyskom-check-go-to-conf): New function to check
	if it is OK to go to a conference. Offer to activate passive
	memberships. Offer to accept invitations. Warn about secret
	memberships.

1999-06-20  David Byers  <davby@anton9.ida.liu.se>

	* Release av 0.46-BETA-1

1999-06-19  David Byers  <davby@ida.liu.se>

	* completing-read.el (lyskom-read-conf-stat): Don't croak if we
	get an uconf-stat back from lyskom-read-conf.

1999-06-17  David Byers  <davby@ida.liu.se>

	* utilities.el (lyskom-maxint): Clip to 32 bit integers.

1999-06-17  David Byers  <davby@ida.liu.se>

	* feature.el (lyskom-define-feature): Inherit feature variables
	into the minibuffer.

	* completing-read.el (lyskom-completing-who-is-on): Use dynamic
	session info when it should be used.

1999-06-15  David Byers  <davby@ida.liu.se>

	* lyskom-rest.el (lyskom-format-aux-help): Handle actual character 
	arguments for ?c.

	* compatibility.el (int-to-char): Provide compatibility for
	int-to-char.

1999-06-14  David Byers  <davby@ida.liu.se>

	* lyskom-buttons.el (lyskom-default-button): Handle uconf-stats.

	* lyskom-rest.el (lyskom-format-aux-help): Use uconf-stats instead 
	of conf-stats. Do not permit alternate names. Do not attempt to
	format the xface property.

	* parse.el (lyskom-parse-error): Removed message "bug i
	lyskom-parse-error" since this would happen frequently when error
	messages are sent to a client that has been restarted.

	Handle new recipient async message
	* async.el (lyskom-default-new-recipient-hook): New function.
	(lyskom-async-new-recipient): New function.
	(lyskom-parse-async): Handle new recipient message.

	* view-text.el (lyskom-text-read-at-least-once-p): New optional
	argument BG.

1999-06-13  David Byers  <davby@ida.liu.se>

	* commands2.el (kom-del-faq): New function.
	(kom-add-faq): New function.
	(kom-status-conf): Print aux items.
	(kom-status-person): Print aux items.

	* view-text.el (lyskom-view-text): Use text-print-when to contol
	printing of aux-items.

	* lyskom-rest.el (lyskom-read-number): Accept symbol for prompt.

1999-06-12  David Byers  <davby@ida.liu.se>

	* commands1.el (lyskom-who-is-on-check-membership-9): Don't
	extract pers-nos from member list.
	(lyskom-who-is-on-check-membership-8): Same here.

	Speed up parsing:
	* parse.el (lyskom-parse-string): Reset lyskom-string-bytes-missing after
	successful parse. Set lyskom-string-bytes-missing in the lyskom
	buffer, not the parse buffer.
	(lyskom-parse-unparsed): Do not reset lyskom-string-bytes-missing.
	(lyskom-init-parse): Reset lyskom-string-bytes-missing.

1999-04-01  David Byers  <davby@ida.liu.se>

	* vars.el.in (kom-postpone-default): Ny variabel.

	* commands2.el (kom-postpone): Defaultvärdet inte hårdkodat
	längre.

1999-06-11  David Byers  <davby@ida.liu.se>

	* edit-text.el (lyskom-edit-insert-miscs): Fix parameter list for
	lyskom-aux-item-definition-call (edit-insert print).

	* swedish-strings.el (lyskom-message): Fix wording in xref-type.

	* compatibility.el (kbd): Redefine kbd if it seems to be
	misbehaving.

1999-01-16  David Byers  <davby@ida.liu.se>

	* lyskom-rest.el (j-or-n-p): Don't compare character to int. It's
	not kosher in MULE.

1999-01-11  David Byers  <davby@ida.liu.se>

	* edit-text.el (lyskom-create-text-handler): Fixed bug that
	prevented texts from being read automatically.

1999-01-10  David Byers  <davby@ida.liu.se>

	* services.el (initiate-query-read-texts): Parse membership
	position too.

	* parse.el (lyskom-parse-membership-and-position): New function.

	* review.el (lyskom-get-texts-by-generic): Ta inte med user-arean
	i resultatet.

	* command.el (lyskom-start-of-command): Don't rely on lyskom-proc
	being nil if a session is dead.

	* commands1.el (lyskom-quit): Sätt inte lyskom-proc till nil. Då
	fungerar inte lyskom-buffer-p. (Fast frågan är vad som går sönder
	istället...)

	* parse.el (lyskom-parse-text-mapping): Ny funktion.
	(lyskom-parse-list): Ny funktion.
	(lyskom-parse-text-number-pair): Ny funktion.
	(lyskom-parse-sparse-map): Ny funktion.
	(lyskom-parse-text-mapping): Ny funktion.

	* services.el (initiate-get-session-info-ident): Ny funktion.
	(initiate-re-lookup-person): Ny funktion.
	(initiate-lookup-person): Ny funktion.
	(initiate-lookup-conf): Ny funktion.
	(initiate-set-info): Ny funktion.
	(initiate-local-to-global): Ny funktion.
	(initiate-map-created-texts): Ny funktion.

	* komtypes.el (session-info): Lade till fält från who-info-ident

	* parse.el (lyskom-parse-who-info-ident-list): Lade till parsning
	av who-info-ident.
	(lyskom-parse-session-info-ident): Ny funktion.
	(lyskom-parse-session-info): Hantera nya fält i session-info.

	* services.el (initiate-who-is-on-ident): Ny funktion.

	* komtypes.el (who-info): Lade in fälten från who-info-ident.

	* lyskom-rest.el (lyskom-format-object): Add ability to format
	time.
	(lyskom-format-objects): Använd mapconcat istället för concat,
	apply och mapcar.
	(lyskom-format-object): Stoppa inte in space före objektet.
	lyskom-format-objects tar hand om det.
	Bytte namn på lyskom-format-X till lyskom-prot-a-format-X för att
	undvika namnkrockar i framtiden.
	(lyskom-prot-a-format-string): Allt i en format-sats.

	* services.el (initiate-get-last-text): New function.

1999-01-09  David Byers  <davby@ida.liu.se>

	* services.el (initiate-login): Swap initiate-login and
	initiate-login-new.
	(initiate-mark-text): Folded initiate-mark-text-old into
	initiate-mark-text.
	(initiate-unmark-text): Do (mark-text text-no 0) if call 73 is not 
	implemented.

1999-01-06  David Byers  <davby@ida.liu.se>

	* internal.el: Don't concat an integer.

1999-01-02  David Byers  <davby@ida.liu.se>

	* utilities.el: Sätt lyskom-max-int efter lyskom-maxint har
	definierats.

1999-05-05  Per Cederqvist  <ceder@signum.se>

	* commands1.el (kom-change-parenthesis): Nytt kommando.

	* vars.el.in (lyskom-commands): La till kom-change-parenthesis.

	* swedish-strings.el, english-strings.el (lyskom-message): La till
	new-paren och no-paren-in-name.
	(lyskom-command): La till kom-change-parenthesis.

Thu Feb 18 17:17:42 1999  Peter Liljenberg  <petli@lysator.liu.se>

	* commands1.el (lyskom-who-is-on-9):
	(lyskom-insert-deferred-session-info-since): Vilkalistan kan visa
 	när en session kopplade upp sig och hur länge den har varit
 	inaktiv.
	
	* vars.el.in (kom-show-since-and-when):
	* english-strings.el:
	* swedish-strings.el:
	* option-edit.el: Konfigurera ovanstående beteende.

1999-01-09  David Byers  <davby@ida.liu.se>

	* commands2.el (kom-where-is): Nytt kommando.

1999-01-04  David Byers  <davby@ida.liu.se>

	* edit-text.el (lyskom-edit-extract-text): Gör inte
	re-search-forward för att hitta separatorn. Det är fel om man har
	regexp-magiska tecken i strängen.

1999-01-01  Per Cederqvist  <ceder@lysator.liu.se>

	* parse.el (lyskom-skip-array): Glöm inte att skippa det
	avslutande }-tecknet i arrayen.
	* flags.el (lyskom-read-options-eval): Krascha inte om det finns
	mer än en del i user-arean från en annan klient.

1998-12-14  David Byers  <davby@ida.liu.se>

	* lyskom-rest.el (lyskom-beep): Häng inte om kom-audio-player
	pekar ut ett program som inte finns. 

Mon Sep 14 19:54:03 1998  David Kagedal  <davidk@lysator.liu.se>

	* prioritize.el (kom-prioritize): Gör
 	(lyskom-wait-for-membership).

Mon Oct 12 19:45:52 1998  Peter Liljenberg  <petli@lysator.liu.se>

	* lyskom-rest.el (kom-view-next-text): Sätter flat-review till t
	om texten är en återsedd kommenter eller en markerad text.

	* commands1.el (lyskom-view-commented-text): Sätter
	flat-review-argumentet till t.

	* vars.el.in (kom-truncate-threshold, kom-truncate-show-lines):
	Nya variabler.

	* option-edit.el: Konfigurera ovanstående variabler.
	
	* english-strings.el (lyskom-message): 
	  swedish-strings.el (lyskom-message): reformat-* ändrade.

	* lyskom-rest.el (lyskom-signal-reformatted-text): Bygger en lista
	av formatteringsmetoderna istället för att bara sätta en symbol.

	* view-text.el (lyskom-format-text-footer): format-flags (och
	därmed lyskom-last-text-format-flags) är nu en lista av symboler i
	lyskom-messages, som formatteras till en parantes med komman
	emellan strängarna.
	
	(lyskom-view-text, lyskom-print-text): Nytt argument (flat-review)
	som är t när man återser en kommentar eller en markerad text.
	Används för att trunkera inlägg om användaren så önskar.

1998-08-16  David Byers  <davby@ida.liu.se>

	* edit-text.el (kom-edit-send lyskom-edit-send
	lyskom-create-text-handler): Markera inte den nya texten som läst
	om man skickar in den anonymt.

1998-08-13  David Byers  <davby@ida.liu.se>

	* language.el (lyskom-tell-string): Flyttade hit från lyskom-rest.el

	* lyskom-rest.el (lyskom-format-prompt): Hantera %A och %a

	* vars.el.in: Ny variabel kom-anonymous-prompt-format,
	kom-anonymous-prompt-format-executing 

	* edit-text.el (kom-edit-send): Skicka kanske in texten 
	anonymt om lyskom-is-anonymous är satt

	* vars.el.in: Lade till lyskom-is-anonymous

	* cache.el (lyskom-tell-server): Testa lyskom-is-anonymous

	* swedish-strings.el (kom-tell-phrases): Lade till
	kom-tell-is-anonymous 

Thu Jul 30 18:36:10 1998  Peter Liljenberg  <petli@lysator.liu.se>

	* lyskom-buttons.el (lyskom-keyboard-menu): Rensa echo-arean innan
	kommandot körs.
	
Thu Jul 23 15:03:10 1998  Peter Liljenberg  <petli@lysator.liu.se>

	* commands1.el (lyskom-who-is-on-check-membership-9):
	(lyskom-who-is-on-check-membership-8): Använde fel datatyp.

	* lyskom-buttons.el (lyskom-keyboard-menu):
	(lyskom-button-menu):
	(kom-menu-button-press): Skrev kom-menu-button-press som
 	komplement till kom-button-press.

	* view-mode.el (lyskom-view-mode-map): Se ovan.

	* english-strings.el (lyskom-en-edit-mode-map): 
	(lyskom-en-mode-map): 
	(lyskom-en-prioritize-mode-map): Se ovan.

	* swedish-strings.el (lyskom-sv-mode-map):
	(lyskom-sv-prioritize-mode-map): 
	(lyskom-sv-edit-mode-map): Se ovan.


Thu Jul 16 12:57:57 1998  David Kågedal  <davidk@lysator.liu.se>

	* lyskom-rest.el (kom-recover): Anropar clear-all-caches när man
	anropar med prefixargument.

Wed Jul  8 13:12:48 1998  David Kagedal  <davidk@lysator.liu.se>

	* startup.el (lyskom): Den frågade inte om man ville fortsätta med
	en gammal session om man försökte starta en ny mot samma server.

Fri Jul  3 13:52:46 1998  David Kagedal  <davidk@lysator.liu.se>

	* startup.el (lyskom-mode): Stavfel i dokumentationen.

1998-06-14  David Byers  <davby@ida.liu.se>

	* completing-read.el (lyskom-read-conf-expand-specials): Använd
	uconf-stat istf conf-stat.
	(lyskom-read-conf-no): Använd uconf-stat vid behov.
	(lyskom-read-uconf-stat): Ny funktion.
	(lyskom-read-conf-name): Använd uconf-stat vid behov.
	(lyskom-read-session-resolve-ambiguity): Använd uconf-stat.

	* cache.el (cache-get-uconf-stat): Bygg en uconf-stat bara om vi
	kör protokollversion 10.

	* commands1.el (kom-create-conf): Fråga om man tillåter hemliga
	medlemmar. 

	* commands2.el (kom-status-conf): Skriv ut om hemliga medlemmar
	och anonyma texter är tillåtna.
	(kom-status-conf): Använd uconf-stat för mötestypen. Annars blir
	det fel.
	(kom-change-conf-type): Fråga om man tillåter hemliga medlemmar.
	Använd genomgående uconf-stat.

	* macros.el (lyskom-traverse-break): Nytt makro.
	(lyskom-traverse): Definiera om med backquote och gör det möjligt
	att returnera ett resultat.

	* commands1.el (lyskom-who-is-on-check-membership-9): Använd
	member-list-funktioner istället för conf-no-list.
	(lyskom-who-is-on-check-membership-8): Dito.

	* komtypes.el (lyskom-member-list-find-member): Ny funktion.

	* commands2.el (kom-status-conf): Byt member->conf-no till
	member->pers-no.

	* parse.el (lyskom-parse-conf-no-list): Ny funktion.

	* komtypes.el (lyskom-create-conf-no-list): Fixade buggen.

1998-06-10  David Byers  <davby@ida.liu.se>

	* utilities.el (lyskom-current-time): Ny funktion.
	
	* startup.el (lyskom): Använd den

1998-06-08  David Byers  <davby@ida.liu.se>

	* services.el (initiate-set-membership-type): Ny funktion. Whee!

	* parse.el: Lade till parsning av created-at i
	lyskom-parse-membership och lyskom-parse-member

	* komtypes.el: Lade till created-at i membership och member.

Tue Jun  2 11:49:27 1998  David Byers  <davby@ida.liu.se>

	* Lade in -*-coding: raw-text;-*- i alla filer.

	* lyskom-rest.el (silent-read): Tog bort sättning av
	enable-multibyte-characters.

	* buffers.el: Använd set-buffer-multibyte.

	* defvar.el (kom-dont-read-saved-variables): Tog bort defvar av
	enable-multibyte-characters 

	* defvar.el (lyskom-setup-minibuffer-variables): Använd
	set-buffer-multibyte.

	* compatibility.el (set-buffer-multibyte): Ny
	kompatibilitetsdefinition. 

	* swedish-strings.el, english-strings.el (lyskom-message): Ändrade 
	på strängen old-passwd.

Mon Jun  1 13:34:31 1998  David Byers  <davby@ida.liu.se>

	* startup.el (lyskom): Använd lyskom-buffer-p för att testa om man 
	skall fråga om bufferten skall återanvändas. Det gör att man
	enbart får frågan om bufferten finns och det finns en levande
	uppkoppling i den.

	* startup.el (lyskom): Skicka t i may-be-dead till lyskom-buffer-p 
	så att en stängd lyskom-buffert återanvänds korrekt.
	
	* commands2.el (lyskom-buffer-p): Lade till optional argument
	may-be-dead.

Wed May 27 16:30:47 1998  David Byers  <davby@ida.liu.se>

	* completing-read.el (lyskom-complete-string): Lade till nreverse
	igen.
	* vars.el.in (lyskom-ok-to-send-new-calls): Lade till
	lyskom-ok-to-send-new-calls
	* services.el (blocking-return): Tog bort
 	lyskom-ok-to-send-new-calls.
	* vars.el.in (kom-mail-address): user-full-name är en funktion,
	inte en variabel.

Wed May  6 17:45:57 1998  Peter Liljenberg  <petli@lysator.liu.se>

	* swedish-strings.el, english-strings.el, commands1.el:
	Nytt kommando: Vilka är inloggade i möte.

Thu Mar 12 19:51:06 1998  David Kagedal  <davidk@lysator.liu.se>

	* menus.el (lyskom-do-popup-menu): Tog bort ett extra nreverse.

Mon Feb 23 22:41:38 1998  David Kågedal  <davidk@lysator.liu.se>

	* vars.el.in (lyskom-face-schemes): Det stod fel i kom-mark-face i
	ett par scheman.

Sun Feb 22 11:37:57 1998  David Kågedal  <davidk@lysator.liu.se>

	* startup.el (lyskom): Sätt lyskom-server-port.
	
Wed Feb 18 18:51:28 1998  Peter Liljenberg  <petli@lysator.liu.se>

	* edit-text.el (lyskom-edit-mode): Sätter comment-start och
	comment-end så man kan använda comment-region för att citatmarkera
	text.
	
1998-01-31  David Byers  <davby@ida.liu.se>

	* startup.el (lyskom): Testa att både namn och portnummer stämmer
	överens när man testar om det redan finns en session.

	* vars.el.in (lyskom-server-port): Ny variabel.

1998-01-14  David Byers  <davby@ida.liu.se>

	* lyskom-rest.el (lyskom-fill-region): Fixade en
 	omformatteringsbug.
	(kom-next-command): Stöd markering av scrollrader å sånt i XEmacs
	också. 

Tue Jan  6 06:12:39 1998  David Kågedal  <davidk@lysator.liu.se>

	* services.el (lyskom-wait-queue): Här skulle man visst också
 	återställa lyskom-ok-to-send-new-calls.

Sun Jan  4 01:42:08 1998  David Kågedal  <davidk@lysator.liu.se>

	* parse.el (lyskom-expect-char): Använd char-to-string.
	(lyskom-parse-misc-info-list): Dito.
	
	* services.el (lyskom-blocking-do-multiple): Använd
	lyskom-ok-to-send-new-calls här också.

	* startup.el (kom-start-anew): Sätt aldrig lyskom-pers-no till
	nil. Sätt lyskom-inhibit-prefetch till t tillfälligt.

	* services.el (lyskom-ok-to-send-new-calls): Ny variabel
	(blocking-return,blocking-do): Sätt den.

	* internal.el (lyskom-check-output-queues): Kolla
	lyskom-ok-to-send-new-calls.

	* utilities.el (lyskom-next-apo-timeout): Gjorde om till en defun.
	(lyskom-reset-apo-timeout): Dito.
	(lyskom-accept-process-output): Dito.

	* lyskom-rest.el (options): Satte prioriteten för options till 9.

Sat Jan  3 22:25:51 1998  David Kågedal  <davidk@lysator.liu.se>

	* internal.el (lyskom-halt,lyskom-resume): Använd assq istället
 	för assoc.

Sun Dec 28 15:15:19 1997  David Byers  <dbyers@atp>

	* option-edit.el (lyskom-customize-apply): Fixa
	kom-dont-read-saved-variables. 
	(lyskom-create-widget): Skapa widget som man kan välja om
	variabeln skall sparas i servern eller inte.

	* vars.el.in (kom-url-viewer-preferences): Spara i servern.
	(kom-mosaic-command): Dito.
	(kom-audio-player): Dito.
	(kom-netscape-command): Dito.
	
Thu Dec 25 10:39:23 1997  David Byers  <dbyers@atp>

	* lyskom-buttons.el (lyskom-button-open-email): Använd
	compose-mail om den finns.

	* swedish-strings.el, english-strings.el (lyskom-custom-strings):
 	Lade till strängar för kom-personal-messages-in-window.

	* option-edit.el (lyskom-customize-buffer-format): Lade till
	kom-personal-messages-in-window. 
	(lyskom-custom-variables): Dito.

	* async.el (lyskom-handle-as-personal-message): Om vi skapar
	bufferten för personliga meddelanden, gör den till en
	LysKOM-buffert och sätt den i lyskom-view-mode.

	* vars.el.in (lyskom-text-buttons): Uppdaterad regexp för
	info-referenser från teddy.
	(kom-personal-messages-in-window): Ny variabel.

	* startup.el (lyskom): Använd Tomas Abrahamssons proxy-kod.
	(lyskom-www-proxy-connect-filter): Ny funktion.

	* commands1.el (lyskom-nameday): Fixa så dagar utan namnsdagar
	fungerar bra också.

Tue Dec 16 15:20:49 1997  David Byers  <dbyers@atp>

	* startup.el (kom-start-anew): Flytta lyskom-refetch till efter
	båda blocking-do.

Thu Dec  4 14:57:34 1997  David Byers  <dbyers@atp>

	* async.el (lyskom-show-logged-out-person): Skriv ut server-alias
	när någon loggar ut.
	(lyskom-show-logged-in-person): Dito för inloggning.

	* swedish-strings.el (lyskom-message): Fixade has-entered och
	vänner så man kan skriva ut server-alias.

Sun Nov 30 12:20:49 1997  David Byers  <dbyers@atp>

	* completing-read.el (lyskom-complete-string-advance): Fixade
	buggen.

	* commands1.el (kom-write-text): Använd consp, inte listp.

Fri Nov 28 15:47:23 1997  David Byers  <dbyers@atp>

	* commands2.el (lyskom-print-mark-summary-line): Ny funktion.
	(kom-list-marks): Dito.

	* lyskom-rest.el (lyskom-read-num-range): Klara av att returnera
	nil om man vill. Lade till argumentet HISTORY.
	(lyskom-read-number): Dito.

	* swedish-strings.el (lyskom-message): Lade till who-send-text-to.

	* commands1.el (kom-send-letter): Lägg inte till avsändaren som
	mottagare till brev som skickas till ett möte avsändaren är medlem
	i.
	(kom-write-text): C-u i gör att vi frågar efter mottagare. Ett
	numeriskt prefix väljer den avsändaren som mottagare. 

	* utilities.el (lyskom-default-collate-table): Definiera space och
	tab som samma tecken för att undvika oländiga loopar.

	* completing-read.el
	(lyskom-complete-string-advance-to-end-of-word): Hantera space
	lite bättre.
	(lyskom-complete-string-skip-whitespace): Dito.
	(lyskom-complete-string-advance): Dito.

	* lyskom-rest.el (lyskom-wait-for-membership): Loopa så länge
	lyskom lyskom-membership-is-read är en siffra. Den kan vara t och
	almost också, vilket orsakar problem med formatteringen.

	* swedish-strings.el, english-strings.el (lyskom-message): Lade
 	till language-set-to
	(kom-tell-phrases): Använd inte bakslaskade åttabitarstecken.

	* startup.el (kom-start-anew): Flyttade visningen av motd och
	klagomål om presentation till efter man har läst in options.
	Flyttade val av språk till innan man visar motd.

	* vars.el.in (kom-tell-phrases): defvarade kom-tell-phrases igen.

	* filter-edit.el (lyskom-filter-edit-insert-entry): Gör
	lyskom-j-or-n-p quittable.
	(lyskom-filter-edit-quit): Dito.
	(lyskom-filter-edit-save): Dito.
	(lyskom-filter-edit-revert): Dito.

Mon Nov 24 15:55:16 1997  David Byers  <dbyers@atp>

	* commands1.el (kom-delete-text): Avmarkera inlägg som man raderar
	om de är markerade.

	* option-edit.el (lyskom-custom-variables): kom-default-mark kan
	nu vara 0 till 255.

	* commands1.el (lyskom-review-marked-texts): Använd inte 0 som
	markering för att återse alla markerade. Använd nil.
	(kom-review-all-marked-texts): Anpassa därefter.
	(kom-review-marked-texts): Dito.

	* lyskom-buttons.el (lyskom-button-mark-text): Använd nya
	lyskom-mark-text. 
	(lyskom-button-unmark-text): Använd nya lyskom-unmark-text.

	* commands1.el (lyskom-unmark-text): Ny funktion.
	(lyskom-mark-text): Använd nya initiate-mark-text. Hantera inte
	avmarkering. 
	(kom-mark-text): Använd nya lyskom-mark-text.
	(kom-unmark-text): Använd nya lyskom-unmark-text.

	* services.el (initiate-unmark-text): Ny funktion.
	(initiate-mark-text-old): Bytte namn från initiate-mark-text.
	(initiate-mark-text): Ny funktion.

        * swedish-strings.el (lyskom-strings): Lade till strängar för att
	fråga om bekräftelse av radering.
	
	* commands1.el (kom-delete-text): Fråga om man vill radera
	markerade inlägg.
	
	* edit-text.el (lyskom-edit-send-check-recipients): Fråga inte om
	flera mottagare om det bara finns en riktigt mottagare.
	Extrakopiemottagare räknas inte.

Fri Nov 14 09:35:02 1997  David Byers  <dbyers@atp>

	* lyskom-rest.el (kom-next-command): Hajlajta raden med
	lyskom-last-viewed om den inte är i början av fönstret.

	* vars.el.in (lyskom-face-schemes): Lade till kom-mark-face. 
	(lyskom-faces): Dito.

Thu Nov 13 09:37:24 1997  David Byers  <dbyers@atp>

	* edit-text.el (lyskom-edit-send-check-recipients): Kolla att man
	får skriva innan klienten frågar om man vill lägga till
	kommenterad författare som mottagare.

Wed Nov 12 09:03:26 1997  David Byers  <dbyers@atp>

	* review.el (lyskom-get-texts-to): Fixade skrivfel. 

	* distribution-README: Beskriv kompilering från enstaka fil.

	* lyskom-rest.el (lyskom-do-insert): Klara av att en
	speciel-insert-funktion signalerar ett fel.
	(lyskom-format-html): Försök inte formattera som HTML om inte w3
	finns. 

Wed Nov 12 10:29:21 1997  David Kågedal  <davidk@lysator.liu.se>

	* edit-text.el (lyskom-edit-send): När man la till det
	kommenterade inläggets författare som mottagare byggde den
	misc-listan fel.

Mon Oct 27 11:09:35 1997  David Kågedal  <davidk@lysator.liu.se>

	* flags.el (kom-edit-options-send): Fixade parentesfel.
	
	* review.el (lyskom-get-texts-by-and-to): Fixade felskrivning.

Thu Oct 23 14:23:34 1997  David Byers  <davby@ida.liu.se>

	* messages.el (lyskom-info-request-handler): Gjorde så att
 	elispklienten reagerar på INFO igen. ^N och ^O verkade ha
 	försvunnit av någon anledning.

Sun Oct 12 00:39:47 1997  David Byers  <davby@litefix.ida.liu.se>

	* view-text.el (lyskom-print-text): Hantera
 	lyskom-last-text-format-flags som sträng.
	(lyskom-deferred-insert-footer): Dito.

	* parse.el (lyskom-skip-one-token): Skip arrays correctly, please.





Local Variables:
outline-regexp:"M\\|T\\|W\\|F\\|S\\|\t\\\*"
End:
