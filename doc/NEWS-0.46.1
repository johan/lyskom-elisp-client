
                      Nyheter i lyskom.el 0.46.1
                      ==========================

    Version 0.46.1 rättar vissa fel som finns i 0.46 och innehåller
    också en del mindre förbättringar. Den finns att hämta på följande
    adress:

       <URL:ftp://ftp.lysator.liu.se/pub/lyskom/elisp-client/>

    Filen heter lyskom-0.46.1.tar.gz, och en kopia av den text du
    läser just nu finns under namnet NEWS-0.46.1 i tar-arkivet. Det
    finns även en zip-fil för folk som sitter med system som inte
    förstår tar-filer.

    För information om nyheterna i 0.46, se NEWS-0.46.

    Om du hittar ett fel i elispklienten och inte klarar av att rätta
    den själv, använd M-x kom-bug-report för att rapportera den.
    Buggar blir omhändertagna i mån av tid, ork och lust. Färdiga
    patchar blir inlagda mycket snabbare.




                         ====================
                               VIKTIGT
                         ====================

    Gnu Emacs 20.x
    --------------

    Om du använder Gnu Emacs 20.x så måste du se till att du har stöd
    för multibytetecken påslaget. Detta är tvärt emot rekommendationen
    för 0.45. Klienten fungerar antagligen med multibyteteckenstödet
    avslaget, men du kan få smärre problem eftersom det finns buggar i
    Emacs som märks när man inte har multibyteteckenstödet på.

    Titta i dina inställningar (filen .emacs i din hemkatalog). Om du
    hittar "(standard-display-european 1)" eller något liknande
    (första ordet börjar med standard-display eller ettan är något
    annat) så skall du ta bort detta. Detta anrop har varit markerat
    som föråldrat i flera år.

    Du behöver tala om för Emacs vilken typ av teckenuppsättning du
    skall använda. För de flesta så betyder det ISO-8859-1. Se först
    till att omgivningsvariabeln LC_CTYPE är satt rätt. Oftast skall
    det vara något i stil med iso_8859_1. Det brukar räcka med att
    sätta LC_CTYPE, men om du fortfarande har problem (svenska tecken
    visas som frågetecken eller numeriska koder) så kan du ange
    språkomgivning genom att använda set-language-environment,
    antingen interaktivt med M-x eller genom att skriva
    (set-language-environment 'latin-1) i .emacs.

    Om du inte har någon särskild anledning att slå av Emacs stöd för
    multibytetecken så är det oftast bäst att låta bli. Se till att
    omgivningsvariabeln EMACS_UNIBYTE inte är satt, att du inte
    startar Emacs med flaggan --unibyte och att du inte anropar
    standard-display-european (eller annan standard-display-funktion)
    eller set-buffer-multibyte i din .emacs.



    Kompilering
    -----------

    Från och med version 0.46 måste man kompilera klienten för att den
    skall fungera. This is not a bug. It's a feature. Felmeddelandet
    man får om man inte kompilerar är kryptiskt.

    Kompilera för den version av Emacs som du tänker använda. Det
    finns kontroller som skall hindra att man försöker köra klienten i
    en version av Emacs som inte är kompatibel med den man kompilerade
    i.


* Funktionalitet

** När man dödar LysKOM-bufferten så körs lyskom-trim-buffer-hook på
   hela bufferten. Praktiskt för den som sparar sina LysKOM-sessioner
   på fil.

** Om man ger ett prefixargument till "Lista (med) regexpar" kommer
   kommandot att översätta regexpen så att vissa tecken behandlas
   lika. Vilka tecken som skall behandlas lika avgörs av servern;
   samma ekvivalensklasser används av de vanliga kommandona som listar
   namn.

   Specialtecken som påverkar regexpens funktion översätts inte.
   Tecken skrivna inom en []-grupp översätts inte.

   Exempel: regexpen "ab[a]" översätts till "[AaÀÁÂÃàáâã][Bb][a]" om
   man kör mot lyskomd version 2.0.4.

   Den här funktionen fungerar bara om man kör mot lyskomd version
   2.0.0 eller nyare.

** Ändra parentes klarar av mer komplicerade namn, och prompten som
   frågar efter namnet som ska ändras har den inloggade personen som
   defaultvärde.

** RydKOM har flyttats till kom.hem.liu.se.

** När klienten frågar om man vill addera den kommenterades brevlåda
   om man skriver en kommentar i ett möte där den kommenterade inte är
   medlem får man numera en fråga om huruvida det skall vara en extra
   kopiemottagare eller vanlig mottagare.

** Det som förut kallades "korta repliker" heter nu "anmärkningar".

** Anmärkningar gjorda av författaren till ett inlägg visas före andra
   anmärkningar (förutom när inlägget återses omodifierat).

** Om nästa inlägg är en bilaga till ett importerat e-brev blir
   prompten "Läsa nästa bilaga". Åtminstone ibland.

** En del funktionalitet som tidigare var begränsad till XEmacs finns
   även i Emacs 21:

*** Färger och sånt i ttyer i Emacs 21.

*** Man kan klicka på "Olästa" i menyraden med mittenknappen för att
    gå till nästa olästa LysKOM och med högerknappen för att få en
    meny med alla sessioner som har olästa.

*** Färger fungerar antagligen i ttyer i Emacs 21. Åtminstone
    *försöker* klienten använda färger även i en tty om det ser ut som
    om Emacs kanske klarar det.



* Buggfixar

** Klienten fungerar i Gnu Emacs 21.

** Den oändliga loopen som kunde inträffa när man blir utkastad ur KOM
   är borta.

** Klienten läcker inte information när man går till ett möte som inte
   har några inlägg medan man är anonym.

** Superhoppa känner igen det tomma ärendet på ett korrekt sätt.

** Kontrollen av det kommenterades författares medlemskap fungerar
   korrekt.

** Ändra prioritet ändrar inte automatiskt till ens defaultprioritet,
   så man får en fråga om ny prioritet oavsett om man har ställt in en
   defaultprioritet eller inte.

** Utfyllnaden och igenkänningen av kommandon i minibufferten är
   återställd till hur det fungerade i 0.45.2 (dvs man måste skriva in
   parenteser).

** Långsamma kommandon fungerar bättre.

** Den engelska versionens tangentbindningar är korrigerade.

** En del strängar har rättats.

** configure-scriptet fungerar bättre för pratiga Emacsar.

** Kolumnen "Osett" i medlemslistningarna skapade av "Status (för)
   möte" och "Status (för) person" klarar större tal.

** Defaultmottagaren för kommandot "Flytta inlägg" blir rätt.

** Klienten hämtar numera varje inlägg *en* gång från servern vid
   normal läsning, inte (som förut) två gånger.

** Det ska nu gå att klistra in text i inläggsediteringsbuffertar med
   mittenmusknappen i alla Emacs-sorter.

** Problemet med att klienten ibland hänger om man har asynkrona
   meddelanden omstyrda till en egen buffert är antagligen åtgärdat.
